# 📝 任务分配清单

## 成员分工明细

---

## 👤 成员1 - 数据库架构师

### 📋 任务清单

- [ ] **任务1.1**: 完善数据库模型
  - 文件: `src/database.py`
  - 检查字段类型和约束
  - 确保关系正确建立
  
- [ ] **任务1.2**: 测试数据库操作
  - 运行 `python init_db.py`
  - 验证表创建成功
  - 测试CRUD操作

- [ ] **任务1.3**: 编写数据库文档
  - 更新 `docs/DATABASE_SCHEMA.md`
  - 添加ER图（可用工具：dbdiagram.io）

### ✅ 验收标准
- 数据库表成功创建
- 所有关系正确
- 文档完善

---

## 👤 成员2 - 认证与安全专家

### 📋 任务清单

- [ ] **任务2.1**: 完善认证逻辑
  - 文件: `src/auth.py` (已创建骨架)
  - 实现所有TODO标记的功能
  - 测试密码加密和验证

- [ ] **任务2.2**: 实现JWT Token
  - 文件: `src/security.py` (已创建骨架)
  - 完善Token生成和验证
  - 设置合理的过期时间

- [ ] **任务2.3**: 创建登录注册界面
  - 文件: `pages/login.py`
  - 文件: `pages/register.py`
  - 添加表单验证
  - 美化UI

- [ ] **任务2.4**: 集成Session管理
  - 在 `app.py` 中添加登录检查
  - 实现登出功能

### ✅ 验收标准
- 用户能注册并登录
- Token验证正常工作
- 密码安全存储

---

## 👤 成员3 - 审计服务工程师

### 📋 任务清单

- [ ] **任务3.1**: 集成审计逻辑与数据库
  - 修改 `src/logic.py`
  - 在 `analyze_code_with_ai()` 后调用数据库保存
  - 提取漏洞信息

- [ ] **任务3.2**: 实现审计历史页面
  - 文件: `pages/history.py` (已创建骨架)
  - 分页查询
  - 筛选和搜索功能

- [ ] **任务3.3**: 实现报告详情页面
  - 文件: `pages/report_detail.py` (已创建骨架)
  - 显示完整分析结果
  - 漏洞列表展示

- [ ] **任务3.4**: 优化审计服务
  - 文件: `src/audit_service.py` (已创建骨架)
  - 测试所有方法
  - 添加错误处理

### ✅ 验收标准
- 审计结果自动保存
- 历史记录可查询
- 报告详情显示完整

---

## 👤 成员4 - 前端与可视化工程师

### 📋 任务清单

- [ ] **任务4.1**: 改造主界面
  - 修改 `app.py`
  - 添加导航栏
  - 集成登录状态检查
  - 实现多页面路由

- [ ] **任务4.2**: 实现用户仪表板
  - 文件: `pages/dashboard.py` (已创建骨架)
  - 显示统计卡片
  - 最近审计列表
  - 快捷操作

- [ ] **任务4.3**: 实现数据可视化
  - 文件: `src/visualization.py` (已创建骨架)
  - 使用Plotly创建图表
  - 饼图、柱状图、折线图
  - 文件: `pages/statistics.py`

- [ ] **任务4.4**: 实现报告导出
  - 文件: `src/export_service.py` (已创建骨架)
  - PDF导出（使用reportlab）
  - JSON/Markdown导出
  - 集成到报告详情页

### ✅ 验收标准
- UI美观易用
- 图表交互流畅
- 报告可导出

---

## 👤 成员5 - API与集成工程师

### 📋 任务清单

- [ ] **任务5.1**: 完善API路由
  - 文件: `src/api_routes/auth_routes.py` (已创建骨架)
  - 文件: `src/api_routes/audit_routes.py` (已创建骨架)
  - 文件: `src/api_routes/stats_routes.py` (已创建骨架)
  - 实现所有TODO标记的端点

- [ ] **任务5.2**: 添加认证中间件
  - 文件: `api.py`
  - 完善 `get_current_user_id()`
  - 为需要认证的端点添加依赖

- [ ] **任务5.3**: API文档优化
  - 添加Pydantic模型的详细描述
  - 添加示例请求/响应
  - 测试Swagger文档

- [ ] **任务5.4**: API测试
  - 使用Postman或curl测试所有端点
  - 验证认证流程
  - 检查错误处理

### ✅ 验收标准
- 所有API端点正常工作
- Swagger文档完整
- 认证机制正常

---

## 👤 成员6 - 测试与DevOps工程师

### 📋 任务清单

- [ ] **任务6.1**: 编写单元测试
  - 文件: `tests/test_auth.py` (已创建骨架)
  - 文件: `tests/test_database.py` (已创建骨架)
  - 文件: `tests/test_audit_service.py` (已创建骨架)
  - 实现所有TODO标记的测试
  - 目标覆盖率 > 70%

- [ ] **任务6.2**: 编写API集成测试
  - 文件: `tests/test_api.py` (已创建骨架)
  - 测试所有端点
  - 测试认证流程

- [ ] **任务6.3**: 配置CI/CD
  - 文件: `.github/workflows/ci.yml` (已创建骨架)
  - 完善测试流程
  - 添加代码质量检查

- [ ] **任务6.4**: Docker优化
  - 文件: `Dockerfile` (已创建骨架)
  - 文件: `docker-compose.yml` (已创建骨架)
  - 优化镜像大小
  - 添加健康检查

- [ ] **任务6.5**: 编写部署文档
  - 更新 `docs/DEPLOYMENT.md`
  - 添加故障排查指南

### ✅ 验收标准
- 测试覆盖率 > 70%
- CI/CD自动运行
- Docker一键部署

---

## 📅 时间安排

### Week 1 (Day 1-5)
- **Day 1-2**: 成员1完成数据库设计
- **Day 3-5**: 成员2、3开始开发（依赖数据库）

### Week 2 (Day 6-10)
- **Day 6-8**: 成员2、3完成核心功能
- **Day 9-10**: 成员4、5开始开发

### Week 3 (Day 11-15)
- **Day 11-13**: 成员6编写测试
- **Day 14-15**: 全员集成测试和修复

---

## 📝 每日站会检查点

### 每天15分钟站会讨论：

1. **昨天完成了什么？**
2. **今天计划做什么？**
3. **遇到什么阻碍？**

### 沟通渠道
- 技术讨论：GitHub Issues
- 即时沟通：团队群聊
- 代码审查：Pull Request

---

## 🔄 协作流程

### Git工作流

1. **创建分支**
   ```bash
   git checkout -b feature/your-feature
   ```

2. **提交代码**
   ```bash
   git add .
   git commit -m "feat: 添加xxx功能"
   ```

3. **推送并创建PR**
   ```bash
   git push origin feature/your-feature
   ```

4. **Code Review**
   - 至少1人审查
   - 通过所有测试
   - 解决所有评论

5. **合并到dev分支**

### Commit消息规范

```
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式
refactor: 重构
test: 测试相关
chore: 构建/工具相关
```

---

## ✅ 总体验收标准

- [ ] 所有成员完成各自任务
- [ ] 代码通过所有测试
- [ ] 文档完善齐全
- [ ] Docker可以一键启动
- [ ] CI/CD流程正常运行
- [ ] 演示视频制作完成

---

## 🎯 最终交付清单

1. ✅ 完整可运行的代码
2. ✅ 完整的测试套件
3. ✅ API文档
4. ✅ 部署文档
5. ✅ 架构设计文档
6. ✅ UML图
7. ✅ 演示视频
8. ✅ 课程设计报告

---

**加油！🚀 祝团队协作愉快！**
